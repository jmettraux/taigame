<html>
  <head>
    <title>
      Taigame v1.0
    </title>
    <link rel="stylesheet" href="game.css" />
    <script src="libs/jquery-1.9.1.min.js"></script>
  </head>
  <body>

    <table class="grid">
    </table>

    <script>
      var w = 10;
      var h = 10;

      for (var i = 0; i < h; i++) {
        var tr = $('table.grid').append($('<tr>'));
        for (var ii = 0; ii < w; ii++) {
          $('tr:last-child').append('<td>');
        }
      }

      //var car = {};
      //car.x = 0; car.y = 9;
      var car = { x: 0, y: 9 };

      car.show = function() {

        console.log("x: " + this.x + " / y: " + this.y);

        $('td').css('background-color', 'white');
        var row = $('tr')[this.y];
        var cell = $(row).find('td')[this.x];
        $(cell).css('background-color', 'red');
      };

      car.show();

      $(window).on('keyup', function(ev) {

        if (ev.keyCode === 37) { // left
          car.x = car.x - 1;
          if (car.x < 0) { car.x = 0; }
        }
        else if (ev.keyCode === 38) { // up
          car.y = car.y - 1;
          if (car.y < 0) { car.y = 0; }
        }
        else if (ev.keyCode === 39) { // right
          car.x = car.x + 1;
          if (car.x > w - 1) { car.x = w - 1; }
        }
        else if (ev.keyCode === 40) { // down
          car.y = car.y + 1;
          if (car.y > h - 1) { car.y = h - 1; }
        }

        car.show();
      });
    </script>
  </body>
<html>
